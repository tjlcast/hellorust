
[TOC]


## 测试（函数）
- 测试：
  - 函数
  - 验证非测试代码的功能是否和预期一致

- 测试函数体（通常）执行的3个操作：
  - 准备数据/状态
  - 运行被测试的代码
  - 断言（Assert）结果


## 解剖测试函数
- 测试函数需要使用 test 属性（attribute）进行标注
  - Attribute 就是一段 Rust 代码的元数据
  - 在函数上加 **#[test]**，可把函数变成测试函数


## 运行测试
- 使用 cargo test 命令运行所有测试函数
  - Rust 会构建一个 Test Runner 可执行文件
    - 它会运行标注了 test 的函数，并报告其运行是否成功

- 当使用 cargo 创建 liborary 项目的时候，会生成一个 test module，里面有一个 test 函数
    你可以添加任意数量的 test module 或 函数


## 测试失败
- 测试函数 panic 就表示失败.
- 每个测试运行在一个新线程。
- 当主线程看见某个测试线程挂掉了，那个测试标记为失败了。 